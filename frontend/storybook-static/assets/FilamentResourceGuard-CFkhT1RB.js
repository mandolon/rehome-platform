import{r as i}from"./index-B2-qRKKC.js";import{u as g}from"./auth-context.storybook-Cl96cxNK.js";const m={users:{requiredRoles:["admin"],adminOnly:!0,description:"User management and profiles"},workspaces:{requiredRoles:["admin"],adminOnly:!0,description:"Workspace management and settings"},roles:{requiredRoles:["admin"],adminOnly:!0,description:"Role and permission management"},permissions:{requiredRoles:["admin"],adminOnly:!0,description:"Permission management and access control"},settings:{requiredRoles:["admin"],adminOnly:!0,description:"System settings and configuration"},"admin-logs":{requiredRoles:["admin"],adminOnly:!0,description:"System and admin activity logs"},"system-health":{requiredRoles:["admin"],adminOnly:!0,description:"System health monitoring and diagnostics"},"cache-management":{requiredRoles:["admin"],adminOnly:!0,description:"Application cache management"},"backup-management":{requiredRoles:["admin"],adminOnly:!0,description:"Database and file backup management"},"file-manager":{requiredRoles:["admin"],adminOnly:!0,description:"System file management and uploads"},"email-templates":{requiredRoles:["admin"],adminOnly:!0,description:"Email template management"},notifications:{requiredRoles:["admin"],adminOnly:!0,description:"System notification management"}};function l(){const{user:r,hasRole:s,isAdmin:e}=g(),a=i.useMemo(()=>n=>!1,[r,s,e]),o=i.useMemo(()=>[],[r,a]),c=i.useMemo(()=>Object.entries(m).filter(([,n])=>n.adminOnly).map(([n,t])=>({type:n,config:t})),[]),d=i.useMemo(()=>e(),[e]),u=n=>m[n],p=i.useMemo(()=>e(),[e]),y=n=>n.filter(t=>!(t.adminOnly||t.resourceType&&!a(t.resourceType)));return{user:r,isAdmin:e(),canAccessResource:a,hasAdminAccess:p,showAdminSection:d,accessibleResources:o,adminOnlyResources:c,getResourceConfig:u,getAccessibleNavigation:y}}function f({children:r,resourceType:s,fallback:e,loadingComponent:a}){return l(),a?React.createElement(React.Fragment,null,a):React.createElement("div",{className:"min-h-screen flex items-center justify-center"},React.createElement("div",{className:"text-lg"},"Loading..."))}function R({children:r,fallback:s,loadingComponent:e}){return l(),e?React.createElement(React.Fragment,null,e):React.createElement("div",{className:"flex items-center justify-center p-4"},React.createElement("div",{className:"text-sm text-gray-500"},"Loading..."))}f.__docgenInfo={description:`Component that guards access to Filament resources based on user permissions\r
Shows children only if user has access to the specified resource type`,methods:[],displayName:"FilamentResourceGuard",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""},resourceType:{required:!0,tsType:{name:"union",raw:`| 'users'\r
| 'workspaces'\r
| 'roles'\r
| 'permissions' \r
| 'settings'\r
| 'admin-logs'\r
| 'system-health'\r
| 'cache-management'\r
| 'backup-management'\r
| 'file-manager'\r
| 'email-templates'\r
| 'notifications'`,elements:[{name:"literal",value:"'users'"},{name:"literal",value:"'workspaces'"},{name:"literal",value:"'roles'"},{name:"literal",value:"'permissions'"},{name:"literal",value:"'settings'"},{name:"literal",value:"'admin-logs'"},{name:"literal",value:"'system-health'"},{name:"literal",value:"'cache-management'"},{name:"literal",value:"'backup-management'"},{name:"literal",value:"'file-manager'"},{name:"literal",value:"'email-templates'"},{name:"literal",value:"'notifications'"}]},description:""},fallback:{required:!1,tsType:{name:"ReactNode"},description:""},loadingComponent:{required:!1,tsType:{name:"ReactNode"},description:""}}};R.__docgenInfo={description:`Component that guards admin-only sections\r
Shows children only if user is admin`,methods:[],displayName:"AdminSectionGuard",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""},fallback:{required:!1,tsType:{name:"ReactNode"},description:""},loadingComponent:{required:!1,tsType:{name:"ReactNode"},description:""}}};export{R as A,f as F};
