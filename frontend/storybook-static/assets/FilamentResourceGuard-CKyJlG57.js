import{r as i}from"./index-B2-qRKKC.js";import{u as R}from"./AuthProvider-cMGYVJDZ.js";const c={users:{requiredRoles:["admin"],adminOnly:!0,description:"User management and profiles"},workspaces:{requiredRoles:["admin"],adminOnly:!0,description:"Workspace management and settings"},roles:{requiredRoles:["admin"],adminOnly:!0,description:"Role and permission management"},permissions:{requiredRoles:["admin"],adminOnly:!0,description:"Permission management and access control"},settings:{requiredRoles:["admin"],adminOnly:!0,description:"System settings and configuration"},"admin-logs":{requiredRoles:["admin"],adminOnly:!0,description:"System and admin activity logs"},"system-health":{requiredRoles:["admin"],adminOnly:!0,description:"System health monitoring and diagnostics"},"cache-management":{requiredRoles:["admin"],adminOnly:!0,description:"Application cache management"},"backup-management":{requiredRoles:["admin"],adminOnly:!0,description:"Database and file backup management"},"file-manager":{requiredRoles:["admin"],adminOnly:!0,description:"System file management and uploads"},"email-templates":{requiredRoles:["admin"],adminOnly:!0,description:"Email template management"},notifications:{requiredRoles:["admin"],adminOnly:!0,description:"System notification management"}};function o(){const{user:e}=R(),s=i.useCallback(n=>e?e.role===n:!1,[e]),t=i.useCallback(()=>(e==null?void 0:e.role)==="admin",[e]),a=i.useMemo(()=>n=>{if(!e)return!1;const r=c[n];return r.adminOnly?t():r.requiredRoles.some(g=>s(g))},[e,s,t]),m=i.useMemo(()=>e?Object.keys(c).filter(n=>a(n)).map(n=>({type:n,config:c[n]})):[],[e,a]),l=i.useMemo(()=>Object.entries(c).filter(([,n])=>n.adminOnly).map(([n,r])=>({type:n,config:r})),[]),u=i.useMemo(()=>t(),[t]),d=n=>c[n],p=i.useMemo(()=>t(),[t]),f=n=>n.filter(r=>!(r.adminOnly&&!t()||r.resourceType&&!a(r.resourceType)));return{user:e,isAdmin:t(),canAccessResource:a,hasAdminAccess:p,showAdminSection:u,accessibleResources:m,adminOnlyResources:l,getResourceConfig:d,getAccessibleNavigation:f}}function y({children:e,resourceType:s,fallback:t,loadingComponent:a}){const{canAccessResource:m,user:l}=o();return l?m(s)?React.createElement(React.Fragment,null,e):t?React.createElement(React.Fragment,null,t):React.createElement("div",{className:"min-h-screen flex items-center justify-center"},React.createElement("div",{className:"text-center"},React.createElement("h1",{className:"text-2xl font-bold text-red-600 mb-4"},"Access Denied"),React.createElement("p",{className:"text-gray-600"},"You don't have permission to access this resource."))):a?React.createElement(React.Fragment,null,a):React.createElement("div",{className:"min-h-screen flex items-center justify-center"},React.createElement("div",{className:"text-lg"},"Loading..."))}function h({children:e,fallback:s,loadingComponent:t}){const{isAdmin:a,user:m}=o();return m?a?React.createElement(React.Fragment,null,e):s?React.createElement(React.Fragment,null,s):null:t?React.createElement(React.Fragment,null,t):React.createElement("div",{className:"flex items-center justify-center p-4"},React.createElement("div",{className:"text-sm text-gray-500"},"Loading..."))}y.__docgenInfo={description:`Component that guards access to Filament resources based on user permissions\r
Shows children only if user has access to the specified resource type`,methods:[],displayName:"FilamentResourceGuard",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""},resourceType:{required:!0,tsType:{name:"union",raw:`| 'users'\r
| 'workspaces'\r
| 'roles'\r
| 'permissions' \r
| 'settings'\r
| 'admin-logs'\r
| 'system-health'\r
| 'cache-management'\r
| 'backup-management'\r
| 'file-manager'\r
| 'email-templates'\r
| 'notifications'`,elements:[{name:"literal",value:"'users'"},{name:"literal",value:"'workspaces'"},{name:"literal",value:"'roles'"},{name:"literal",value:"'permissions'"},{name:"literal",value:"'settings'"},{name:"literal",value:"'admin-logs'"},{name:"literal",value:"'system-health'"},{name:"literal",value:"'cache-management'"},{name:"literal",value:"'backup-management'"},{name:"literal",value:"'file-manager'"},{name:"literal",value:"'email-templates'"},{name:"literal",value:"'notifications'"}]},description:""},fallback:{required:!1,tsType:{name:"ReactNode"},description:""},loadingComponent:{required:!1,tsType:{name:"ReactNode"},description:""}}};h.__docgenInfo={description:`Component that guards admin-only sections\r
Shows children only if user is admin`,methods:[],displayName:"AdminSectionGuard",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""},fallback:{required:!1,tsType:{name:"ReactNode"},description:""},loadingComponent:{required:!1,tsType:{name:"ReactNode"},description:""}}};export{h as A,y as F};
